# 反射
> 反射是不是在编译时，而是在运行时，动态地获取类型的信息。比如接口信息、成员变量信息、方法信息、构造函数信息。根据这些动态获取的信息创建对象、访问/修改成员、调用方法。

一般的数据操作是是依赖于数据类型的
- 使用`new`关键字创建相应类型的对象                     `new Cat();`
- 根据类型来定义变量。类可以是基本类型、类、接口、数组      ` Cat cat;`
- 将特定类型的变量传递给方法。                          `cat.eat(new food());`
- 根据类型访问类型的参数、调用类型的方法                  `cat.run();` ` int size=cat.size;`

而反射则是动态的获取类型，而不是一开始就知道是什么类型。根据动态获取的类型创建对象，还可以访问/修改这个类型的信息。

# 动态获取类型信息
> 每个已经加载的类在内存里都会有一份类信息，每个对象都会有指向它所属类信息的引用。这个类信息对应的类是 `java.lang.Class`

1. 通过实例对象获取类信息
`public final native Class<?> getClass();`这个方法是Object类的方法，所以每个类型的对象都可以调用这个方法来获取自己所属类信息的引用。即获取Class类对象。

2. 通过类名、接口名获取类信息
- 类
 `Class<Date> cls = Date.class;`=》`class java.lang.Integer`
- 接口
 `Class<Comparator> cls = Comparator.class;`=》`interface java.util.Comparator`
- 基本类型和void类型
 `Class<Integer> integerClass = int.class;`
 `Class<Void> voidClass = void.class;`
- 数组
 `Class<? extends int[][]> clsss = is.getClass();`=》`class [[I`
- 枚举
  `Size.SMALL.getClass()`=》`class reflect.Test$Szie`

3. 通过String来获取Class对象
```java
  try {
            Class<?> clad = Class.forName("java.applet.Applet");
            System.out.println(clad.getName());
        } catch (ClassNotFoundException e) {
            e.printStackTrace();
        } 
```
## 类信息用处
1. 获取名称信息
2. 获取字段信息 =》`Field`  获取该类所有字段的名称、获取或修改指定字段的访问权限、值
3. 获取方法信息 =》`Method` 获取该类所有方法的名称、获取或修改指定方法的访问权限、调用指定方法
4. 获取构造方法 =》`Constructor`  获取该类的构造方法、或者指定参数类型的构造方法、创建对象

# 反射举例
menu图标显示
1. 获取menu对象
2. 设置图标显示方法的访问权限
3. 调用该方法，设Visbility为true
